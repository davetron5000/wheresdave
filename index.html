---
layout: default
---
<div class="grid grid--center">
  <div class="grid-cell">
    <h6 id="asof" class="tc h5"></h6>
    <h1 id="where" class="h1 tc">Where's Dave?</h1>
    <h2 id="availability" class="h3 f3 tc"></h1>
    <h3 id="time-aus" class="tc f5"></h2>
    <h3 id="time-you" class="tc f5"></h2>
  </div>
</div>
<div class="grid grid--center mb2">
  <div class="grid-cell grid-cell--center">
    <h3 class="tc f4">Dave Last Seen</h3>
    <a class="twitter-timeline" data-chrome="noheader nofooter noborders noscrollbar" data-tweet-limit="1" href="https://twitter.com/davetron5000" data-widget-id="387346382027112449">Tweets by @davetron5000</a>
    <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
  </div>
</div>
<div class="grid grid--center dn">
  <div class="grid-cell grid-cell--center mt2">
    <h4 class="tc f5">See where I'll be (in Sydney Time)</h4>
    <form action="{{ site.url }}" method="get" class="tc">
      <label for="month">
        <select name="month">
          <option value="10">October</option>
          <option value="11">November</option>
        </select>
      <label for="day">
        <select name="day">
          <option value="1">1</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5</option>
          <option value="6">6</option>
          <option value="7">7</option>
          <option value="8">8</option>
          <option value="9">9</option>
          <option value="10"> 10 </option>
          <option value="11"> 11 </option>
          <option value="12"> 12 </option>
          <option value="13"> 13 </option>
          <option value="14"> 14 </option>
          <option value="15"> 15 </option>
          <option value="16"> 16 </option>
          <option value="17"> 17 </option>
          <option value="18"> 18 </option>
          <option value="19"> 19 </option>
          <option value="20"> 20 </option>
          <option value="21"> 21 </option>
          <option value="22"> 22 </option>
          <option value="23"> 23 </option>
          <option value="24"> 24 </option>
          <option value="25"> 25 </option>
          <option value="26"> 26 </option>
          <option value="27"> 27 </option>
          <option value="28"> 28 </option>
          <option value="29"> 29 </option>
          <option value="30"> 30 </option>
          <option value="31"> 31 </option>
        </select>
      <label for="hour">
        <select name="hour">
          <option value="0">Midnight</option>
          <option value="1">1 am</option>
          <option value="2">2 am</option>
          <option value="3">3 am</option>
          <option value="4">4 am</option>
          <option value="5">5 am</option>
          <option value="6">6 am</option>
          <option value="7">7 am</option>
          <option value="8">8 am</option>
          <option value="9">9 am</option>
          <option value="10"> 10  am</option>
          <option value="11"> 11  am</option>
          <option value="12"> Noon </option>
          <option value="13"> 1 pm </option>
          <option value="14"> 2 pm </option>
          <option value="15"> 3 pm </option>
          <option value="16"> 4 pm </option>
          <option value="17"> 5 pm </option>
          <option value="18"> 6 pm </option>
          <option value="19"> 7 pm </option>
          <option value="20"> 8 pm </option>
          <option value="21"> 9 pm </option>
          <option value="22"> 10 pm </option>
          <option value="23"> 11 pm </option>
        </select>
      <input type="submit">
    </form>
  </div>
</div>
<script>

function formatDate(date) {
  var minutes = date.getMinutes();
  var hours   = date.getHours();
  var ampm    = "am";

  if (minutes < 10) {
    minutes = "0" + minutes;
  }

  if (hours == 12) {
    ampm = "pm";
  }

  if (hours > 12) {
    hours = hours - 12;
    ampm = "pm";
  }
  return "" + hours + 
    ":"    + minutes + ampm +
    " on " + (date.getMonth()+ 1) +
    "/"    +  date.getDate() +
    ", "   + (date.getYear()+ 1900);
}

var timeNowInAustralia = dateTimeNow(11);

$("#time-aus").html("Time in Sydney is " + formatDate(timeNowInAustralia));
$("#time-you").html("Time where you are is " + formatDate(new Date()));

function getParameterByName(name,otherwise) {
  name = name.replace(/[\[]/, "\\\[").replace(/[\]]/, "\\\]");
  var regex = new RegExp("[\\?&]" + name + "=([^&#]*)"),
  results = regex.exec(location.search);
  return results == null ? otherwise : decodeURIComponent(results[1].replace(/\+/g, " "));
}

var month = getParameterByName("month",timeNowInAustralia.getMonth() + 1);
var day   = getParameterByName("day",  timeNowInAustralia.getDate());
var hour  = getParameterByName("hour", timeNowInAustralia.getHours());

$("#asof").html("as of " + month + "/" + day + "/2013 at " + hour + ":00");

found_info = wheresDave(data,month,day,hour);

if (found_info) {
  $("#where").html(found_info["where"]);
  available = found_info["available"];
  $("#availability").html(availability[available]);
  $("body").first().attr("class",available)
}
else {
  $("#where").html("No clue");
  $("#availability").html("Give it a shot");
}

</script>
